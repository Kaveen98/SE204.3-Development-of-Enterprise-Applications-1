"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[92071],{236409:(e,a,l)=>{var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="02def91ce101528c229d702fbe02d397";let t=i},443107:(e,a,l)=>{l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CollageChips_pin2"}],type:"Pin",abstractKey:null};n.hash="f335e27af6b8e65cbc6d635cdc39dce4";let i=n},863380:(e,a,l)=>{l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollageChips_pin2",selections:[{args:null,kind:"FragmentSpread",name:"CloseupLink_pin"}],type:"Pin",abstractKey:null};n.hash="df1a502b4660ea1f2f0f126f142daec4";let i=n},824112:(e,a,l)=>{l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin2"}],type:"Pin",abstractKey:null};n.hash="6016b14b2081c4349ad3f3a910cc2ea7";let i=n},614434:(e,a,l)=>{var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin2",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="f59a904fce00a4dccdfb5e76e2824d4a";let t=i},268127:(e,a,l)=>{l.d(a,{Y:()=>g,Z:()=>_});var n,i,t=l(667294);l(167912);var r=l(333739),s=l(807023);let d=void 0!==n?n:n=l(824112),o=void 0!==i?i:i=l(614434),u=(e,a)=>{let l=Symbol("SKIP"),n=e=>Object.entries(e).filter(([,e])=>e!==l).reduce((e,[a,l])=>({...e,[a]:l}),{});if("deprecated"!==e.type){let i=e.data;return n({...i.isEligibleForPdpPlus||i.isEligibleForPdp||i.isOosProduct||i.isStaleProduct?{...(()=>{if(!a)return{image_count:l,image_index:l};let e=i.richMetadata?.products?.[0];return{is_pdpplus:!0,carousel_image_count:l,brand_signature:e?.brand?.signature||l,free_shipping_price:e?.shippingInfo?.freeShippingPrice||l,free_shipping_value:e?.shippingInfo?.freeShippingValue||l,num_variants:e?.variantSet?.variants?.length||l,total_dimension_option_count:e?.variantSet?.dimensionMetadata?.length||l,valid_dimension_option_count:l}})(),pin_show_pdp_oos:!!i.isOosProduct||l,pin_show_pdp_stale:!!i.isStaleProduct||l,pin_show_pdp:!!i.isEligibleForPdp||l}:{},pin_is_shop_the_look:!!(i.shoppingFlags?.includes(2)||i.aggregatedPinData?.isShopTheLook)||l,is_available:!!i.shoppingFlags?.includes(1)||l,is_product_pin_v2:!!i.shoppingFlags?.includes(5)||l,is_rich_product_pin:!!i.shoppingFlags?.includes(6)||l,is_organic_product_carousel:l,item_id:(i.richSummary?.products?.[0]||{}).itemId||l,item_set_id:(i.richSummary?.products?.[0]||{}).itemSetId||l,story_pin_id:i.storyPinData?i.storyPinDataId:l})}{let i=e.data;return i?n({...i.is_eligible_for_pdp_plus||i.is_eligible_for_pdp||i.is_oos_product||i.is_stale_product?{...(()=>{let e=(i.rich_metadata||i.rich_summary)?.products?.[0],n=e?.additional_images?.length?{imageCount:(i.images?1:0)+e.additional_images.length,imageIndex:i.carousel_data?.index||0}:i.carousel_data&&{imageCount:i.carousel_data.carousel_slots?.length,imageIndex:i.carousel_data.index};if(!a)return n?{image_count:n.imageCount,image_index:n.imageIndex}:{};let t=i.rich_metadata?.products?.[0],r=t?.variant_set?.variants??[];return{is_pdpplus:!0,carousel_image_count:n?n.imageCount:l,brand_signature:t?.brand?.signature||l,free_shipping_price:t?.shipping_info?.free_shipping_price||l,free_shipping_value:t?.shipping_info?.free_shipping_value||l,num_variants:r.length||l,total_dimension_option_count:t?.variant_set?.dimension_metadata?.length||l,valid_dimension_option_count:(t?.variant_set?.dimension_metadata||[]).reduce((e,{name:a,values:l})=>e+(a&&l||[]).filter(e=>r.some(l=>l.dimensions?.[a??""]===e)).length,0)||l}})(),pin_show_pdp_oos:!!i.is_oos_product||l,pin_show_pdp_stale:!!i.is_stale_product||l,pin_show_pdp:!!i.is_eligible_for_pdp||l}:{},pin_is_shop_the_look:!!(i.shopping_flags?.includes(2)||i.aggregated_pin_data?.is_shop_the_look)||l,is_available:!!i.shopping_flags?.includes(1)||l,is_product_pin_v2:!!i.shopping_flags?.includes(5)||l,is_rich_product_pin:!!i.shopping_flags?.includes(6)||l,is_organic_product_carousel:!!(i.shopping_flags?.includes(10)||(i.product_pin_data?.items?.[0]||{}).additional_images)||l,item_id:(i.rich_summary?.products?.[0]||{}).item_id||l,item_set_id:(i.rich_summary?.products?.[0]||{}).item_set_id||l,story_pin_id:i.story_pin_data?i.story_pin_data_id:l}):{}}},p=e=>0===Object.keys(e).length?{}:{commerce_data:JSON.stringify(e)},c=e=>{let{childDataKey__DEPRECATED:a}=(0,s.Q)(d,e,{useLegacyAdapter:e=>({})}),{childDataKey__DEPRECATED:l}=(0,r.Zm)(o,null==a?{type:"deprecated",data:null}:a,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),n=(0,t.useRef)(l);return(0,t.useEffect)(()=>{n.current=l}),(0,t.useCallback)(e=>p({...e?.default,...u(n.current,!!e?.isPdpPlus),...e?.override}),[])},g=({children:e,pinKey:a})=>e(c(a)),_=c},392071:(e,a,l)=>{l.d(a,{Z:()=>c}),l(167912);var n,i,t=l(883119),r=l(207012),s=l(807023),d=l(182074),o=l(785893);let u={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}},p=void 0!==n?n:n=l(443107);function c({pinKey:e,enableCloseupLink:a,trackingParamsMap:n}){let c=(0,r.Z)(p,e),{childDataKey__DEPRECATED:g}=(0,s.Q)(void 0!==i?i:i=l(863380),c,{useLegacyAdapter:e=>({})}),{aggregatedPinData:_}=c,{pinTagsChips:m}=_||{},y=m&&m.length>=3?m.slice(0,3):[];return(0,o.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:u.chipContainer},display:"flex",children:y.map(e=>{let l=e.image||{},i=(0,o.jsx)(t.Ee,{alt:"",fit:"cover",naturalHeight:l.height??1,naturalWidth:l.width??1,role:"presentation",src:l.url??""});return(0,o.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:u.chip},"data-test-id":"collageChip",children:(0,o.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:u.chipInner},position:"relative",children:(0,o.jsx)(t.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,o.jsx)(t.zd,{height:"100%",wash:!0,width:"100%",children:a?(0,o.jsx)(d.Z,{collageChipId:e.entityId??"",pinKey:g,sizing:"fullSize",trackingParamsMap:n,children:i}):i})})})},e.entityId)})})}},879977:(e,a,l)=>{l.d(a,{B:()=>i,E:()=>t});var n=l(342513);let{Provider:i,useHook:t}=(0,n.Z)("trackingParametersContext")},182074:(e,a,l)=>{l.d(a,{Z:()=>k}),l(167912);var n,i=l(883119),t=l(598356),r=l(214877),s=l(207012),d=l(140017),o=l(340370),u=l(340523),p=l(5859),c=l(427514),g=l(268127),_=l(149722),m=l(879977),y=l(785893);let h=void 0!==n?n:n=l(236409);function k({sizing:e="default",children:a,collageChipId:l,componentType:n,contextLogData:k,elementType:S,disableA11yLabel:f,pinKey:F,productTagParentPinId:P,trackingParamsMap:v,viewParameter:K,viewType:I}){let b=(0,d.ZP)(),{isRTL:D}=(0,p.B)(),L=(0,s.Z)(h,F),{logContextEvent:T}=(0,r.v)(),x=(0,m.E)(),{checkExperiment:w}=(0,u.F)(),{isAuth:C}=(0,_.Z)(),A=!!L.storyPinDataId&&!1===L.shouldOpenInStream,E=!!L.storyPinDataId&&!A,j=x.contextLogData?.story_type==="product_tagged_shopping_module_upsell",Z=!D&&!E&&w(C?"closeup_auth_related_pins_above_fold_2024_dweb":"closeup_unauth_related_pins_above_fold_2024_dweb").group||"",O=["polished_stacked_closeup"].includes(Z),R=C&&w("closeup_dweb_remove_magnifying_glass").anyEnabled,{carouselData:z,entityId:M}=L,B=!!L.promotedIsLeadAd,G={},U=`/pin/${l||M}/`,H=(0,t.Xx)();if(H?.variantUrl&&(U=`/pin/${H.variantUrl}/`),z){let{carouselSlots:e,entityId:a}=z,l=z.index??0;U=`/pin/${M}/`,G={carousel_slot_id:e?.[l]&&e[l].entityId,carousel_data_id:a,carousel_slot_index:l}}let V=(0,g.Z)(L);G={...G,...V({default:k?.commerce_data})};let N=()=>{let e={};if(B)T({event_type:8948,view_type:I||x.viewType,view_parameter:K||x.viewParameter,component:null,object_id_str:L.entityId,aux_data:{closeup_navigation_type:"click",lead_form_id:L.promotedLeadForm?.leadFormId,is_lead_ad:1}}),T({event_type:12,view_type:I||x.viewType,view_parameter:K||x.viewParameter,component:null,object_id_str:L.entityId,aux_data:{lead_form_id:L.promotedLeadForm?.leadFormId,is_lead_ad:1,...V()}});else{let a={...k,...V({default:k?.commerce_data})};T({event_type:101,component:n||x.componentType,element:S,object_id_str:M,view_type:I||x.viewType,view_parameter:K||x.viewParameter,aux_data:a}),j&&(e={storyPinProductEventData:{productPinIdStr:M,pinIdStr:P}}),T({aux_data:{closeup_navigation_type:"click",...a},component:n||x.componentType,element:S,event_data:e,event_type:8948,object_id_str:M,view_type:I||x.viewType,view_parameter:K||x.viewParameter})}},Q=(0,o.Z)({href:U,externalData:{auxData:G,pin:L&&{advertiserId:L.advertiserId,attributionSourceId:L.attributionSourceId,board:L.board&&{url:L.board.url},campaignId:L.campaignId,entityId:L.entityId,isDownstreamPromotion:L.isDownstreamPromotion,isPromoted:L.isPromoted,pinner:L.pinner&&{username:L.pinner.username},pinPromotionId:L.pinPromotionId,promoter:L.promoter&&{entityId:L.promoter.entityId},storyPinDataId:L.storyPinDataId,trackingParams:L.trackingParams,trackingParamsMap:v}}});return(0,y.jsx)(i.Tg,{accessibilityLabel:f?void 0:(0,c.Z)(b.bt("{{ pinTitle }} Pin page", "{{ pinTitle }} pin page", "pinRep.closeupLink.tapArea.accessibilityLabel", undefined, true),{pinTitle:L.gridTitle||L.title||L.description||""}),fullHeight:"fullSize"===e,fullWidth:"fullSize"===e,href:U,mouseCursor:O||R?void 0:"zoomIn",onTap:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),N(),Q({event:e})},rounding:2,children:a})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92071.en_GB-3cdc44ff86d12e58.mjs.map